{% from 'src/templates/partials/author.html' import authorlink %}
{% from 'src/templates/partials/tag.html' import taglink, taglist %}
{% from 'src/templates/partials/time.html' import time %}
{% from 'src/templates/partials/reference.html' import reference %}


{% macro postview(data) %}
  <article>
    <header>
      {% if data.tags %}
        <small>{{ taglink(data.tags[0]) }}</small>
      {% endif %}
      <h1>{{ data.title }}</h1>
      <small>por {{ authorlink(data.author) }}</small>
    </header>

    <figure>
      <img src="{{ data.image|url }}" />
    </figure>

    <section>{{ data.contents }}</section>

    <footer>
      <p>
        Publicado em {{ time(data.date) }}
        {% if data.tags %}
          {{ taglist(data.tags) }}
        {% endif %}
      </p>
      {% if data.references %}
        {{ reference(data.references) }}
      {% endif %}
    </footer>
  </article>
{% endmacro %}


{% macro postpreview(data) %}
  <article>
    <header>
      <h1>
        <a href="{{ data.path|url }}">{{ data.title }}</a>
      </h1>
      <small>por {{ authorlink(data.author) }} em {{ time(data.date) }}</small>
    </header>

    <figure>
      <a href="{{ data.path|url }}">
        <img src="{{ data.image|url }}" alt="{{ data.title }}" />
      </a>
    </figure>

    <section>{{ data.excerpt }}</section>

    <footer>
      <a href="{{ data.path|url }}">Continue lendo</a>
    </footer>
  </article>
{% endmacro %}
